<tool
  id="history_metadata_extractor"
  name="History Metadata Extractor"
  version="@TOOL_VERSION@+galaxy@VERSION_SUFFIX@"
  profile="21.09"
>
  <description>
    displays information from exported history's jobs_attrs.txt file.
  </description>
  <macros>
    <token name="@TOOL_VERSION@">1.0.0</token>
    <token name="@VERSION_SUFFIX@">0</token>
  </macros>
  <requirements>
    <requirement type="package" version="3.10.5">python</requirement>
  </requirements>
  <stdio>
    <exit_code range="1" level="fatal" description="Missing parameter error" />
    <exit_code range="2" level="fatal" description="Bad parameter's value" />
    <exit_code range="3" level="fatal" description="Missing input file" />
    <exit_code range="4:254" level="fatal" description="Unknown error" />
    <exit_code range="255" level="fatal" description="No any result to output" />
  </stdio>
  <version_command>
    python3 '$__tool_directory__/history_metadata_extractor.py' --version | head -n 1
  </version_command>
  <command>
    <![CDATA[
python3 '$__tool_directory__/history_metadata_extractor.py'
  --jobs-attrs '$jobs_attrs'
  --dataset-attrs '$dataset_attrs'
  --output '$history_visu'
    ]]>
  </command>
  <inputs>
    <param
      argument="--jobs-attrs"
      type="data"
      format="txt"
      label="Exported history's jobs_attrs.txt file"
      help="Export and extract an history. Select the file 'jobs_attrs.txt'"
    />
    <param
      argument="--dataset-attrs"
      type="data"
      format="txt"
      label="Exported history's dataset_attrs.txt file"
      help="Export and extract an history. Select the file 'dataset_attrs.txt'"
    />
  </inputs>
  <outputs>
    <data
      name="history_visu"
      format="html"
      label="history_visu.html"
    />
  </outputs>
  <tests>
    <test>
      <param name="jobs_attrs" value="jobs_attrs.txt" />
      <param name="dataset_attrs" value="datasets_attrs.txt" />
      <output name="history_visu" file="out.html" />
    </test>
  </tests>
  <help><![CDATA[
.. class:: infomark

**Authors** Lain Pavot

.. class:: infomark

---------------------------------------------------




History Metadata Extractor

Extracts informations from the `jobs_attrs.txt` file in exported histories,
and produces an html page showing these informations in a kawaii table.



Metadata

 * **@AUTHOR**: Lain Pavot - lain.pavot@inrae.fr
 * **@CREATION DATE**: 22/06/2022
 * **@DATE**: 22/06/2022
 * **@VERSION**: 0.1.0




]]>
  </help>
</tool>
